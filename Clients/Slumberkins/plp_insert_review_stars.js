let reviews = [{
        "name": "affirmation-card-deck",
        "average": 5,
        "number": 4
    },
    {
        "name": "all-the-snuggles-set",
        "average": 5,
        "number": 4
    },
    {
        "name": "alpaca-board-book-2",
        "average": 5,
        "number": 3
    },
    {
        "name": "alpaca-bundle",
        "average": 5,
        "number": 1
    },
    {
        "name": "alpaca-kin",
        "average": 5,
        "number": 27
    },
    {
        "name": "alpaca-kin-single",
        "average": 5,
        "number": 1
    },
    {
        "name": "alpacas-worry-bag",
        "average": 5,
        "number": 2
    },
    {
        "name": "authenticity-gift-basket",
        "average": 5,
        "number": 1
    },
    {
        "name": "authenticity-snuggler-bundle",
        "average": 4.8,
        "number": 15
    },
    {
        "name": "back-to-school-set",
        "average": 4.25,
        "number": 4
    },
    {
        "name": "bat-mini",
        "average": 5,
        "number": 3
    },
    {
        "name": "bigfoot-believes-book",
        "average": 5,
        "number": 1
    },
    {
        "name": "bigfoot-bundle",
        "average": 5,
        "number": 17
    },
    {
        "name": "bigfoot-kin",
        "average": 5,
        "number": 13
    },
    {
        "name": "bigfoot-you-are-lovable-board-book",
        "average": 5,
        "number": 2
    },
    {
        "name": "black-lynx-kin",
        "average": 5,
        "number": 1
    },
    {
        "name": "bunny-mini-duo",
        "average": 5,
        "number": 1
    },
    {
        "name": "bunny-mini-egg-1",
        "average": 5,
        "number": 3
    },
    {
        "name": "camp-mini-set",
        "average": 5,
        "number": 1
    },
    {
        "name": "camp-slumberkins-2021",
        "average": 4.988372093,
        "number": 86
    },
    {
        "name": "caring-book-series",
        "average": 5,
        "number": 1
    },
    {
        "name": "caring-book-set",
        "average": 5,
        "number": 2
    },
    {
        "name": "caring-crew",
        "average": 5,
        "number": 1
    },
    {
        "name": "clover-lynx-kin-1",
        "average": 5,
        "number": 3
    },
    {
        "name": "comfort-corner-digital-download",
        "average": 4,
        "number": 2
    },
    {
        "name": "confidence-crew",
        "average": 5,
        "number": 2
    },
    {
        "name": "confidence-crew-set-1",
        "average": 4.75,
        "number": 4
    },
    {
        "name": "confident-book-set",
        "average": 5,
        "number": 4
    },
    {
        "name": "conflict-resolution-bundle",
        "average": 5,
        "number": 10
    },
    {
        "name": "connected-heart-to-heart",
        "average": 4.625,
        "number": 16
    },
    {
        "name": "copy-of-repair-bear-kin-single",
        "average": 5,
        "number": 1
    },
    {
        "name": "cranberry-sloth-valentines-day-set",
        "average": 5,
        "number": 1
    },
    {
        "name": "creatures-full-of-feelings-board-book",
        "average": 5,
        "number": 3
    },
    {
        "name": "creatures-full-of-feelings-bundle",
        "average": 5,
        "number": 3
    },
    {
        "name": "curriculum-bundle-1",
        "average": 5,
        "number": 1
    },
    {
        "name": "curriculum-hub-subscription",
        "average": 5,
        "number": 9
    },
    {
        "name": "discover-all-the-feels-educational-set",
        "average": 4,
        "number": 1
    },
    {
        "name": "dragon-bundle",
        "average": 5,
        "number": 1
    },
    {
        "name": "dragon-dreams-and-creates-an-introduction-to-creativity-board-book",
        "average": 5,
        "number": 1
    },
    {
        "name": "dragon-kin-2",
        "average": 4.428571429,
        "number": 7
    },
    {
        "name": "dragon-maga-tiles",
        "average": 5,
        "number": 1
    },
    {
        "name": "dragonfly-mini",
        "average": 5,
        "number": 1
    },
    {
        "name": "floof-mini",
        "average": 5,
        "number": 5
    },
    {
        "name": "fox-bundle",
        "average": 5,
        "number": 1
    },
    {
        "name": "fox-kin",
        "average": 4.5,
        "number": 8
    },
    {
        "name": "fox-snuggler-bundle",
        "average": 5,
        "number": 1
    },
    {
        "name": "ginger-yak-kin-1",
        "average": 5,
        "number": 5
    },
    {
        "name": "gratitude-deluxe-unit-plan",
        "average": 5,
        "number": 1
    },
    {
        "name": "gratitude-gift-basket",
        "average": 5,
        "number": 1
    },
    {
        "name": "gratitude-snuggler-bundle",
        "average": 5,
        "number": 10
    },
    {
        "name": "grief-and-loss-set",
        "average": 5,
        "number": 2
    },
    {
        "name": "growth-mindset-interactive-lesson",
        "average": 5,
        "number": 1
    },
    {
        "name": "growth-mindset-snuggler-bundle",
        "average": 4.888888889,
        "number": 9
    },
    {
        "name": "halloween-fright-hardcover-book",
        "average": 5,
        "number": 2
    },
    {
        "name": "hammerhead-kin",
        "average": 5,
        "number": 6
    },
    {
        "name": "heart-bundle",
        "average": 4.666666667,
        "number": 3
    },
    {
        "name": "hedgehog-mini",
        "average": 4,
        "number": 2
    },
    {
        "name": "hedgehog-mini-1",
        "average": 5,
        "number": 6
    },
    {
        "name": "hedgehog-mini-egg",
        "average": 5,
        "number": 1
    },
    {
        "name": "honey-alpaca-snuggler",
        "average": 5,
        "number": 3
    },
    {
        "name": "honey-bear-board-book",
        "average": 5,
        "number": 1
    },
    {
        "name": "honey-bear-kin",
        "average": 5,
        "number": 2
    },
    {
        "name": "honey-bee-mini",
        "average": 5,
        "number": 6
    },
    {
        "name": "how-to-bee-helpful-hardcover-book",
        "average": 5,
        "number": 1
    },
    {
        "name": "how-to-bee-helpful-set",
        "average": 5,
        "number": 2
    },
    {
        "name": "ibex-greets-his-feelings-board-book",
        "average": 5,
        "number": 1
    },
    {
        "name": "ibex-kin",
        "average": 5,
        "number": 5
    },
    {
        "name": "ibex-kin-single",
        "average": 5,
        "number": 1
    },
    {
        "name": "ibex-snuggler",
        "average": 5,
        "number": 7
    },
    {
        "name": "ice-blue-yeti-snuggler-1",
        "average": 4,
        "number": 1
    },
    {
        "name": "ivory-polar-bear-kin",
        "average": 5,
        "number": 1
    },
    {
        "name": "jellyfish-duo",
        "average": 4.666666667,
        "number": 15
    },
    {
        "name": "jellyfish-micro-mini",
        "average": 4.9,
        "number": 10
    },
    {
        "name": "jellyfish-mini",
        "average": 4.75,
        "number": 16
    },
    {
        "name": "kid-backpack",
        "average": 5,
        "number": 1
    },
    {
        "name": "kin-backpack",
        "average": 5,
        "number": 1
    },
    {
        "name": "lavender-ibex-snuggler-1",
        "average": 5,
        "number": 1
    },
    {
        "name": "love-bug-mini-1",
        "average": 5,
        "number": 1
    },
    {
        "name": "lynx-board-book",
        "average": 5,
        "number": 1
    },
    {
        "name": "lynx-kin",
        "average": 5,
        "number": 3
    },
    {
        "name": "lynx-sets-boundaries-board-book",
        "average": 5,
        "number": 1
    },
    {
        "name": "lynx-snuggler-silken-ivory-bundle",
        "average": 4.2,
        "number": 5
    },
    {
        "name": "mini-egg-set-1",
        "average": 5,
        "number": 10
    },
    {
        "name": "narwhal-kin",
        "average": 4.5,
        "number": 2
    },
    {
        "name": "nectar-bigfoot-kin-1",
        "average": 5,
        "number": 4
    },
    {
        "name": "otter-bundle",
        "average": 5,
        "number": 1
    },
    {
        "name": "otter-kin",
        "average": 5,
        "number": 10
    },
    {
        "name": "otter-kin-single",
        "average": 5,
        "number": 1
    },
    {
        "name": "otter-snuggler",
        "average": 4.916666667,
        "number": 12
    },
    {
        "name": "owl-mini-ivory",
        "average": 5,
        "number": 3
    },
    {
        "name": "panda-mini-egg",
        "average": 5,
        "number": 2
    },
    {
        "name": "problem-solver-kit",
        "average": 5,
        "number": 2
    },
    {
        "name": "purple-lynx-snuggler",
        "average": 5,
        "number": 1
    },
    {
        "name": "red-panda-mini",
        "average": 4.666666667,
        "number": 9
    },
    {
        "name": "repair-bear-kin-single",
        "average": 4.9,
        "number": 10
    },
    {
        "name": "resilience-crew",
        "average": 5,
        "number": 1
    },
    {
        "name": "resillience-book-series",
        "average": 5,
        "number": 2
    },
    {
        "name": "rose-otter-kin-valentines-day-set",
        "average": 5,
        "number": 3
    },
    {
        "name": "scarlet-hedgehog-mini-set-1",
        "average": 5,
        "number": 1
    },
    {
        "name": "seal-mini",
        "average": 5,
        "number": 1
    },
    {
        "name": "self-esteem-gift-basket",
        "average": 5,
        "number": 1
    },
    {
        "name": "sleepy-peep",
        "average": 5,
        "number": 4
    },
    {
        "name": "sloth-goes-to-school",
        "average": 5,
        "number": 2
    },
    {
        "name": "sloth-goes-to-school-board-book",
        "average": 5,
        "number": 5
    },
    {
        "name": "slumber-sloth-board-book",
        "average": 5,
        "number": 1
    },
    {
        "name": "slumber-sloth-kin",
        "average": 5,
        "number": 9
    },
    {
        "name": "slumber-sloth-snuggler-bundle",
        "average": 4.571428571,
        "number": 7
    },
    {
        "name": "slumberkins-clouds-tote-bag",
        "average": 5,
        "number": 1
    },
    {
        "name": "slumberkins-fitted-twin-sheet",
        "average": 5,
        "number": 1
    },
    {
        "name": "slumberkins-gift-bag",
        "average": 4,
        "number": 1
    },
    {
        "name": "slumberkins-library",
        "average": 5,
        "number": 3
    },
    {
        "name": "slumberkins-vector-tote-bag",
        "average": 5,
        "number": 1
    },
    {
        "name": "snail-mini",
        "average": 5,
        "number": 3
    },
    {
        "name": "spider-mini",
        "average": 5,
        "number": 2
    },
    {
        "name": "spotted-lavender-lynx-bundle",
        "average": 5,
        "number": 1
    },
    {
        "name": "sprite-board-book",
        "average": 5,
        "number": 1
    },
    {
        "name": "sprite-kin",
        "average": 5,
        "number": 7
    },
    {
        "name": "sprite-snuggler-bundle",
        "average": 5,
        "number": 5
    },
    {
        "name": "stress-relief-snuggler-bundle",
        "average": 5,
        "number": 33
    },
    {
        "name": "the-confidence-within-hardcover-book",
        "average": 5,
        "number": 1
    },
    {
        "name": "the-confidence-within-set",
        "average": 5,
        "number": 9
    },
    {
        "name": "the-feels-book-1",
        "average": 4.75,
        "number": 4
    },
    {
        "name": "the-feels-book-misfit",
        "average": 5,
        "number": 2
    },
    {
        "name": "the-feels-educators-set",
        "average": 5,
        "number": 2
    },
    {
        "name": "the-feels-set",
        "average": 4.75,
        "number": 8
    },
    {
        "name": "turtle-mini-egg",
        "average": 5,
        "number": 1
    },
    {
        "name": "unicorn-kin",
        "average": 4,
        "number": 4
    },
    {
        "name": "valentines-day-set",
        "average": 5,
        "number": 2
    },
    {
        "name": "weathering-the-storm-set",
        "average": 5,
        "number": 2
    },
    {
        "name": "werewolf-fox-kin",
        "average": 5,
        "number": 2
    },
    {
        "name": "yak-board-book",
        "average": 5,
        "number": 1
    },
    {
        "name": "yeti-board-book",
        "average": 5,
        "number": 1
    },
    {
        "name": "yeti-bundle",
        "average": 5,
        "number": 1
    },
    {
        "name": "yeti-kin",
        "average": 5,
        "number": 7
    },
    {
        "name": "yeti-kin-single",
        "average": 5,
        "number": 1
    }
]

let plpReviewsInterval = setInterval(function() {
    let products = document.querySelectorAll('.grid-product')
    if (!products.length) {
        return
    }
    clearInterval(plpReviewsInterval)
    products.forEach(function(product) {
        let link = product.querySelector('.grid-product__meta')
        let productReview = null
        reviews.forEach(function(review) {
            if (link.href.indexOf(review.name) !== -1) {
                productReview = review
            }
        })
        if (!productReview) {
            return
        }
        let priceDiv = product.querySelector('.grid-product__price-wrap')
        let average = (Math.ceil(productReview.average * 10) / 10).toFixed(1)
        let starsHTML = `<i class="spr-icon spr-icon-star" style="color: #ffbc24;" aria-hidden="true"></i>`.repeat(Math.ceil(average))
        let html = `<div id="productReviewSummary" class="l-product-header__review tw-text-xs tw-mt-4 md:tw-pr-0 tw-pr-20">
    <span class="spr-badge" id="spr_badge_5291599560842" data-rating="5.0">
    <span class="spr-starrating spr-badge-starrating">
        ${starsHTML}
    </span>
    <span class="spr-badge-caption">${average}</span>
    </span>
    </span>
  </div>`
        let newDiv = product.querySelector('#productReviewSummary') || document.createElement('div')
        newDiv.innerHTML = html
        priceDiv.parentElement.insertBefore(newDiv, priceDiv.nextElement)
    })

}, 250)