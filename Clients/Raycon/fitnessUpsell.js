let control = () => {
    console.log(`control`)
}

let variant1 = () => {
    console.log(`variant1`)
    let v1Interval = setInterval(() => {
        let productForm = document.querySelector(`#AddToCartForm-template--15076836343831__main`)
        if (!productForm) return
        clearInterval(v1Interval)
        let newDiv = document.createElement(`div`)
        newDiv.innerHTML = `<a href="https://rayconglobal.com/products/the-fitness-earbuds">
        <ul class="product__addon__list">
            <li>
                <label class="addon-item__label" style="border: 1px solid #000;">
                    <div class="addon-item__body">
                        <div class="grid--full align-items-center">
                            <div class="grid__item eight-twelfths">
                                <div class="addon-item__meta">
                                    <p class="addon-item__title body strong mb0" style="color:#000;">UPGRADE TO OUR
                                        FITNESS EARBUDS</p>
                                    <div class="mb1">
                                        <button class="btn btn--medium btn--full btn--orange uppercase" style="width:80%;">
                                            <span>BUY NOW</span>
                                        </button>
                                    </div>
                                    <p class="addon-item__content h6--body mb0" style="color:#000;">✔ 54 Hours of
                                        Battery Life</p>
                                    <p class="addon-item__content h6--body mb0" style="color:#000;">✔ IPX7 Waterproofing
                                    </p>
                                    <p class="addon-item__content h6--body mb0" style="color:#000;">✔ Customizable Fit
                                    </p>
    
                                </div>
                            </div>
    
                            <div class="grid__item four-twelfths" style="display:block !important;">
                                <p class="addon-item__price mb0 on-sale text-right">
                                    <span data-addon-item-price="" data-value="11999"><span class="money notranslate"
                                            data-wg-notranslate="manual" data-gip-price-id="Re9If2P2riA5vTS1"
                                            data-gip-original-value="119.99" data-gip-converted="false">$119.99</span>
                                    </span>
                                </p>
                                <div class="addon-item__image lazyloaded"
                                    style="background-image: url(&quot;https://cdn.shopify.com/s/files/1/2404/0041/products/raycon-blue-3_1296x.png?v=1646162837&quot;);">
                                </div>
                            </div>
                        </div>
                    </div>
                </label>
            </li>
        </ul>
    </a>`
        productForm.append(newDiv)
    }, 250)
}

let variant2 = () => {
    console.log(`variant2`)
    let v2Interval = setInterval(() => {
        let productForm = document.querySelector(`#AddToCartForm-template--15076836343831__main`)
        if (!productForm) return
        clearInterval(v2Interval)
        let newDiv = document.createElement(`div`)
        newDiv.innerHTML = `<a href="https://rayconglobal.com/products/the-fitness-earbuds">
        <ul class="product__addon__list">
            <li>
                <label class="addon-item__label" style="border: 1px solid #000;">
                    <div class="addon-item__body">
                        <div class="grid--full align-items-center">
                            <div class="grid__item eight-twelfths">
                                <div class="addon-item__meta">
                                    <p class="addon-item__title body strong mb0" style="color:#000;">A SPECIAL OFFER</p>
    
                                    <p class="addon-item__content h6--body mb0" style="color:#000;">Upgrade to our
                                        premium Fitness Earbuds and get 20% off.</p>
                                    <div class="mb1">
                                        <button class="btn btn--medium btn--full btn--orange uppercase" style="width:80%;">
                                            <span>BUY NOW</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
    
                            <div class="grid__item four-twelfths" style="display:block !important;">
                                <p class="addon-item__price color--red strong mb0 on-sale text-right">
                                    <span class="medium compare-at">
                                        <span data-addon-item-compare-at-price="" data-value="11999"><span
                                                class="money notranslate" data-wg-notranslate="manual"
                                                data-gip-price-id="zUczlCCAska6aNdv" data-gip-original-value="119.99"
                                                data-gip-converted="false">$119.99</span></span>
                                    </span>
                                    <span data-addon-item-price="" data-value="9599"><span class="money notranslate"
                                            data-wg-notranslate="manual" data-gip-price-id="Re9If2P2riA5vTS1"
                                            data-gip-original-value="95.99" data-gip-converted="false">$95.99</span></span>
                                </p>
                                <div class="addon-item__image lazyloaded"
                                    style="background-image: url(&quot;https://cdn.shopify.com/s/files/1/2404/0041/products/raycon-blue-3_1296x.png?v=1646162837&quot;);">
                                </div>
                            </div>
                        </div>
                    </div>
                </label>
            </li>
        </ul>
    </a>`
        productForm.append(newDiv)
    }, 250)
}

let variant3 = () => {
    console.log(`variant3`)
    let v2Interval = setInterval(() => {
        let productForm = document.querySelector(`#AddToCartForm-template--15076836343831__main`)
        if (!productForm) return
        clearInterval(v2Interval)
        let newDiv = document.createElement(`div`)
        newDiv.innerHTML = `<a href="https://rayconglobal.com/products/the-fitness-earbuds">
        <ul class="product__addon__list">
            <li>
                <label class="addon-item__label" style="border: 1px solid #000;">
                    <div class="addon-item__body">
                        <div class="grid--full align-items-center">
                            <div class="grid__item eight-twelfths">
                                <div class="addon-item__meta">
                                    <p class="addon-item__title body strong mb0" style="color:#000;">UPGRADE TO OUR
                                        FITNESS EARBUDS</p>
                                    <p class="addon-item__content h6--body mb0" style="color:#000;">Upgrade to our
                                        premium Fitness Earbuds and get 20% off.</p>
                                    <div class="mb1">
                                        <button class="btn btn--medium btn--full btn--orange uppercase" style="width:80%;">
                                            <span>BUY NOW</span>
                                        </button>
                                    </div>
                                    <p class="addon-item__content h6--body mb0" style="color:#000;">✔ 54 Hours of
                                        Battery Life</p>
                                    <p class="addon-item__content h6--body mb0" style="color:#000;">✔ IPX7 Waterproofing
                                    </p>
                                    <p class="addon-item__content h6--body mb0" style="color:#000;">✔ Customizable Fit
                                    </p>
    
                                </div>
                            </div>
    
                            <div class="grid__item four-twelfths" style="display:block !important;">
                                <p class="addon-item__price color--red strong mb0 on-sale text-right">
                                    <span class="medium compare-at">
                                        <span data-addon-item-compare-at-price="" data-value="11999"><span
                                                class="money notranslate" data-wg-notranslate="manual"
                                                data-gip-price-id="zUczlCCAska6aNdv" data-gip-original-value="119.99"
                                                data-gip-converted="false">$119.99</span></span>
                                    </span>
                                    <span data-addon-item-price="" data-value="9599"><span class="money notranslate"
                                            data-wg-notranslate="manual" data-gip-price-id="Re9If2P2riA5vTS1"
                                            data-gip-original-value="95.99" data-gip-converted="false">$95.99</span></span>
                                </p>
                                <div class="addon-item__image lazyloaded"
                                    style="background-image: url(&quot;https://cdn.shopify.com/s/files/1/2404/0041/products/raycon-blue-3_1296x.png?v=1646162837&quot;);">
                                </div>
                            </div>
                        </div>
                    </div>
                </label>
            </li>
        </ul>
    </a>`
        productForm.append(newDiv)
    }, 250)
}

let variants = [control, variant1, variant2, variant3]

let main = () => {
    let url = new URL(window.location.href)
    let variant = url.searchParams.get(`test_variant`)
    if (variant) {
        sessionStorage.setItem(`test_variant`, variant)
    }
    let storageVariant = sessionStorage.getItem(`test_variant`) || 1 // default to variant 1
    variants[storageVariant]() // call the variant's function
}

main()



let upsellInterval = setInterval(() => {
    let productForm = document.querySelector(`[id*=AddToCartForm-template]`)
    if (!productForm) return
    clearInterval(upsellInterval)
    let newDiv = document.createElement(`div`)
    newDiv.innerHTML = `<a href="https://rayconglobal.com/products/the-fitness-earbuds">
    <ul class="product__addon__list">
        <li>
            <label class="addon-item__label" style="border: 1px solid #000;">
                <div class="addon-item__body">
                    <div class="grid--full align-items-center">
                        <div class="grid__item eight-twelfths">
                            <div class="addon-item__meta">
                                <p class="addon-item__title body strong mb0" style="color:#000;">UPGRADE TO OUR
                                    FITNESS EARBUDS</p>
                                <div class="mb1">
                                    <button class="btn btn--medium btn--full btn--primary uppercase" style="width:80%;">
                                        <span>BUY NOW</span>
                                    </button>
                                </div>
                                <p class="addon-item__content h6--body mb0" style="color:#000;">✔ 54 Hours of
                                    Battery Life</p>
                                <p class="addon-item__content h6--body mb0" style="color:#000;">✔ IPX7 Waterproofing
                                </p>
                                <p class="addon-item__content h6--body mb0" style="color:#000;">✔ Customizable Fit
                                </p>

                            </div>
                        </div>

                        <div class="grid__item four-twelfths" style="display:block !important;">
                            <p class="addon-item__price mb0 on-sale text-right">
                                <span data-addon-item-price="" data-value="10999"><span class="money notranslate"
                                        data-wg-notranslate="manual" data-gip-price-id="Re9If2P2riA5vTS1"
                                        data-gip-original-value="109.99" data-gip-converted="false">$109.99</span>
                                </span>
                            </p>
                            <div class="addon-item__image lazyloaded"
                                style="background-image: url(&quot;https://cdn.shopify.com/s/files/1/2404/0041/products/raycon-blue-3_1296x.png?v=1646162837&quot;);">
                            </div>
                        </div>
                    </div>
                </div>
            </label>
        </li>
    </ul>
</a>`
    productForm.append(newDiv)
}, 250)